{"ast":null,"code":"var _jsxFileName = \"/home/anushree/MERN/frontend/src/components/login.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport Vendor from '../Vendor';\nimport Customer from '../Customer';\nimport { Redirect } from \"react-router-dom\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeUsername(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newUser = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    this.Data(newUser); // //.then(res => console.log(res.data));\n    // .then(res => {\n    //     console.log(res.data)\n    //     if (res.data === \"Error: User does not exist\") {\n    //         alert(\"Error: User does not exist\")\n    //     }\n    //     else {\n    //         if (res.data === 'Error: Passwords do not match') {\n    //             alert('Error: Incorrect username or password')\n    //         }\n    //         else {\n    //             console.log(\"Successfully logged in\")\n    //         }\n    //     }\n    //     // if (response.data.role == 'vendor') {\n    //     //     console.log(response.data.role)\n    //     //     this.props.history.push('./components/vendor.component')\n    //     // }\n    //     // else//(response.data = 'customer')\n    //     // {\n    //     //     console.log(response.data.role)\n    //     //     this.props.history.push('./components/customer.component')\n    //     // }\n    //     // localStorage.setItem('usertoken', response.data)\n    //     // return response.data\n    // })\n    // .catch(err => {\n    //     console.log(err.data)\n    // })\n\n    this.setState({\n      username: '',\n      password: ''\n    });\n  }\n\n  async Data(newUser) {\n    try {\n      const res = await axios.post('http://localhost:4000/login', newUser);\n      console.log(res.data);\n\n      if (res.data === \"Error: User does not exist\") {\n        alert(\"Error: User does not exist\");\n      } else {\n        if (res.data === 'Error: Passwords do not match') {\n          alert('Error: Incorrect username or password');\n        } else {\n          console.log(\"Successfully logged in\");\n\n          if (res.data === \"customer\") {\n            ReactDOM.render(React.createElement(Customer, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }), document.getElementById('root'));\n            return React.createElement(Redirect, {\n              to: \"/Customer\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89\n              },\n              __self: this\n            });\n          } else if (res.data === \"vendor\") {\n            ReactDOM.render(React.createElement(Vendor, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }), document.getElementById('root'));\n            return React.createElement(Redirect, {\n              to: \"/Vendor\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93\n              },\n              __self: this\n            });\n          }\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Username: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.username,\n      onChange: this.onChangeUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.password,\n      onChange: this.onChangePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/anushree/MERN/frontend/src/components/login.component.js"],"names":["React","Component","axios","ReactDOM","Vendor","Customer","Redirect","Login","constructor","props","state","username","password","onChangeUsername","bind","onChangePassword","onSubmit","event","setState","target","value","e","preventDefault","newUser","Data","res","post","console","log","data","alert","render","document","getElementById","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport Vendor from '../Vendor';\nimport Customer from '../Customer';\nimport { Redirect } from \"react-router-dom\";\n\nexport default class Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            password: '',\n        }\n\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChangeUsername(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    onChangePassword(event) {\n        this.setState({ password: event.target.value });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        const newUser = {\n            username: this.state.username,\n            password: this.state.password,\n        }\n\n        this.Data(newUser);\n        // //.then(res => console.log(res.data));\n        // .then(res => {\n        //     console.log(res.data)\n        //     if (res.data === \"Error: User does not exist\") {\n        //         alert(\"Error: User does not exist\")\n        //     }\n        //     else {\n        //         if (res.data === 'Error: Passwords do not match') {\n        //             alert('Error: Incorrect username or password')\n        //         }\n        //         else {\n        //             console.log(\"Successfully logged in\")\n        //         }\n        //     }\n        //     // if (response.data.role == 'vendor') {\n        //     //     console.log(response.data.role)\n        //     //     this.props.history.push('./components/vendor.component')\n        //     // }\n        //     // else//(response.data = 'customer')\n        //     // {\n        //     //     console.log(response.data.role)\n        //     //     this.props.history.push('./components/customer.component')\n        //     // }\n        //     // localStorage.setItem('usertoken', response.data)\n        //     // return response.data\n        // })\n        // .catch(err => {\n        //     console.log(err.data)\n        // })\n\n        this.setState({\n            username: '',\n            password: '',\n        });\n    }\n    async Data(newUser) {\n        try {\n            const res = await axios.post('http://localhost:4000/login', newUser)\n            console.log(res.data)\n            if (res.data === \"Error: User does not exist\") {\n                alert(\"Error: User does not exist\")\n            }\n            else {\n                if (res.data === 'Error: Passwords do not match') {\n                    alert('Error: Incorrect username or password')\n                }\n                else {\n                    console.log(\"Successfully logged in\")\n                    if (res.data === \"customer\") {\n                        ReactDOM.render(< Customer />, document.getElementById('root'));\n                        return <Redirect to=\"/Customer\" />\n                    }\n                    else if (res.data === \"vendor\") {\n                        ReactDOM.render(< Vendor />, document.getElementById('root'));\n                        return <Redirect to=\"/Vendor\" />\n                    }\n                }\n        \n            }\n        }\n        catch (error) {\n            console.log(error);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>Username: </label>\n                        <input type=\"text\"\n                            className=\"form-control\"\n                            value={this.state.username}\n                            onChange={this.onChangeUsername}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"password\"\n                            className=\"form-control\"\n                            value={this.state.password}\n                            onChange={this.onChangePassword}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}